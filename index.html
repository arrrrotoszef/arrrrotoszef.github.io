<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Gra dla Par ‚Äì Trip, Auto & Wyzwania</title>
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#0b0c1a">
<style>
/* Reset i podstawowe ustawienia */
html, body {
  margin: 0;
  padding: 0;
  font-family: Inter, sans-serif;
  background: #0b0c1a;
  color: #fff;
  height: 100%;
  width: 100%;
}

/* Body flex dla pe≈Çnej wysoko≈õci */
body {
  display: flex;
  flex-direction: column;
  min-height: 100vh;
}

/* Header */
.header {
  width: 100%;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 12px 16px;
  background: #141538;
  box-shadow: 0 2px 8px rgba(0,0,0,0.5);
  position: sticky;
  top: 0;
  z-index: 10;
}

.brand {
  font-weight: 700;
  font-size: 18px;
  color: #ff5f8a;
}

.music-control {
  display: flex;
  align-items: center;
  gap: 6px;
}

input[type=range] {
  -webkit-appearance:none;
  width: 80px;
  height: 4px;
  background:#fff;
  border-radius:5px;
}

input[type=range]::-webkit-slider-thumb {
  -webkit-appearance:none;
  width:14px;
  height:14px;
  background:#ff5f8a;
  border-radius:50%;
  cursor:pointer;
}

/* Karty */
.card {
  background:#1a1b3f;
  border-radius:20px;
  width:95%;
  max-width:500px;
  margin:10px auto;
  padding:15px;
  box-shadow:0 8px 20px rgba(0,0,0,0.5);
  display: flex;
  flex-direction: column;
  gap:10px;
}

h2 {
  margin:0 0 10px;
  font-size:20px;
  text-align: center;
}

/* Menu przyciski */
.menu {
  display: flex;
  flex-wrap: wrap;
  gap:10px;
  justify-content: center;
}

.button {
  flex: 1 1 calc(50% - 10px); /* dwa przyciski na szeroko≈õƒá */
  padding: 14px 0;
  border-radius: 999px;
  background: linear-gradient(135deg,#ff5f8a,#7b5cff);
  border:none;
  color:#fff;
  font-weight:600;
  font-size:16px;
  cursor:pointer;
  text-align: center;
}

/* Challenge i footer */
.challenge {
  min-height:80px;
  font-size:18px;
  line-height:1.4;
  margin:10px 0;
  text-align:center;
}

.footer {
  display:flex;
  justify-content: space-between;
  gap:10px;
  flex-wrap: wrap;
}

.small-button {
  flex:1;
  padding:12px 0;
  font-size:16px;
  border-radius:999px;
  background:#23245a;
  border:none;
  color:#fff;
  cursor:pointer;
  text-align:center;
}

/* Pill */
.pill {
  padding:4px 10px;
  border-radius:999px;
  background:#23245a;
  font-size:12px;
  text-align:center;
  align-self: center;
}

/* Editor */
.editor {
  display: none;
  flex-direction: column;
  gap:6px;
}

.editor.active {
  display: flex;
}

.editor textarea {
  width: 100%;
  height:100px;
  background:#141538;
  color:#fff;
  border:none;
  border-radius:12px;
  padding:8px;
  resize: none;
}

/* Responsive */
@media(max-width:400px) {
  .button {
    flex: 1 1 100%;
  }
  .footer {
    flex-direction: column;
  }
}
</style>
</head>
<body>

<!-- HEADER -->
<div class="header">
  <button class="small-button" onclick="goFullscreen()">‚õ∂</button>
  <div class="brand">‚ù§Ô∏è Gra dla Par</div>
  <div class="music-control">
    <button class="small-button" onclick="toggleMusic()">üéµ</button>
    <input type="range" min="0" max="1" step="0.01" value="0.4" oninput="setVol(this.value)">
  </div>
</div>

<!-- TRYBY GRY -->
<div class="card">
  <h2>Tryby gry</h2>
  <div class="menu">
    <button class="button" onclick="start('easy')">≈Åatwy</button>
    <button class="button" onclick="start('intro')">Wstƒôp</button>
    <button class="button" onclick="start('hot')">Hot üî•</button>
    <button class="button" onclick="start('soft18')">18+ üíã</button>
    <button class="button" onclick="start('close')">Blisko≈õƒá</button>
    <button class="button" onclick="start('date')">Trip / Randka</button>
    <button class="button" onclick="start('auto')">Auto üöó</button>
    <button class="button" onclick="showEditor()">Edytor ‚úçÔ∏è</button>
  </div>
</div>

<!-- WYZWANIE -->
<div class="card">
  <h2 id="title">Wyzwanie</h2>
  <div class="pill" id="modeLabel">‚Äî</div>
  <div class="challenge" id="challenge">Wybierz tryb po lewej.</div>
  <div class="footer">
    <button class="small-button" onclick="next()">Losuj</button>
    <button class="small-button" onclick="back()">Menu</button>
  </div>
</div>

<!-- EDITOR -->
<div class="card editor" id="editor">
  <h2>W≈Çasne wyzwania</h2>
  <select id="customMode">
    <option value="easy">≈Åatwy</option>
    <option value="intro">Wstƒôp</option>
    <option value="hot">Hot</option>
    <option value="soft18">18+</option>
    <option value="close">Blisko≈õƒá</option>
    <option value="date">Trip</option>
    <option value="auto">Auto</option>
  </select>
  <button class="small-button" onclick="saveCustom()">Zapisz</button>
  <textarea id="customText" placeholder="Wpisz w≈Çasne wyzwanie..."></textarea>
</div>

<!-- AUDIO -->
<audio id="bgm" loop>
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_7a8f6a8c2e.mp3?filename=romantic-ambient-11157.mp3" type="audio/mpeg">
</audio>

<script>
// Dane wyzwa≈Ñ
const base={
  easy:["Komplement bez powodu.","Przytulcie siƒô 30 sekund.","U≈õmiech i kontakt wzrokowy 10 sekund."],
  intro:["Delikatny masa≈º d≈Çoni 1 min.","Poca≈Çunek w policzek/czo≈Ço.","Opisz idealny wiecz√≥r."],
  hot:["Szeptem powiedz, co Ci siƒô podoba.","Mocniejsze przytulenie 20 sek.","Zamknijcie oczy i oddychajcie razem."],
  soft18:["Czu≈Çy dotyk przez chwilƒô.","Powiedz, co Ciƒô rozlu≈∫nia.","Powolny poca≈Çunek (bez po≈õpiechu)."],
  close:["Jedna rzecz, kt√≥ra daje Ci poczucie blisko≈õci.","Has≈Ço na potrzebƒô czu≈Ço≈õci.","Trzy wsp√≥lne oddechy."],
  date:["Zaplanujcie spontanicznƒÖ randkƒô.","Wybierz piosenkƒô na spacer.","Kawa czy deser?"],
  auto:["McDonald‚Äôs Andrych√≥w üçî","KFC Andrych√≥w üçó","Kawa w Andrychowie ‚òï","Widok na Beskidy üåÑ","Przeja≈ºd≈ºka z muzykƒÖ üöóüé∂","Punkt widokowy okolice Kƒôt üåÖ"]
};

let data=JSON.parse(localStorage.getItem('customData')||'null')||JSON.parse(JSON.stringify(base));
let mode=null;
const labels={easy:'≈Åatwy',intro:'Wstƒôp',hot:'Hot',soft18:'18+',close:'Blisko≈õƒá',date:'Trip',auto:'Auto'};

// Funkcje gry
function start(m){ hideEditor(); mode=m; document.getElementById('modeLabel').innerText=labels[m]; next(); }
function next(){ if(!mode) return; const a=data[mode]; const i=Math.floor(Math.random()*a.length); document.getElementById('challenge').innerText=a[i]; document.getElementById('title').innerText=labels[mode]==='Auto'?'Gdzie jedziemy?':'Wyzwanie'; }
function back(){ mode=null; document.getElementById('modeLabel').innerText='‚Äî'; document.getElementById('challenge').innerText='Wybierz tryb po lewej.'; document.getElementById('title').innerText='Wyzwanie'; }
function showEditor(){ document.getElementById('editor').classList.add('active'); }
function hideEditor(){ document.getElementById('editor').classList.remove('active'); }
function saveCustom(){ const m=document.getElementById('customMode').value; const t=document.getElementById('customText').value.trim(); if(!t) return; data[m].push(t); localStorage.setItem('customData',JSON.stringify(data)); document.getElementById('customText').value=''; alert('Zapisano!'); }

// Audio
const bgm=document.getElementById('bgm');
bgm.volume=0.4;
function toggleMusic(){ if(bgm.paused) bgm.play(); else bgm.pause(); }
function setVol(v){ bgm.volume=v; }

// Fullscreen
function goFullscreen(){ const el=document.documentElement; if(el.requestFullscreen) el.requestFullscreen(); else if(el.webkitRequestFullscreen) el.webkitRequestFullscreen(); }
</script>

</body>
</html>
